{all_metrics_are_global,false}.
{cowboy_server_name,"Apache"}.
{default_server_domain,<<"localhost">>}.
{hide_service_name,true}.
{host_types,[]}.
{hosts,[<<"localhost">>,<<"anonymous.localhost">>]}.
{language,<<"en">>}.
{listen,
 [{{5280,{0,0,0,0},tcp},
   ejabberd_cowboy,
   [{modules,
     [{"_","/ws-xmpp",mod_websockets,
       [{ejabberd_service,
         [{access,all},
          {max_fsm_queue,1000},
          {password,"secret"},
          {shaper_rule,fast}]}]}]},
    {transport_options,[{max_connections,1024},{num_acceptors,10}]}]}]}.
{loglevel,warning}.
{mongooseimctl_access_commands,
 [{local,["join_cluster"],[{node,"mongooseim@prime"}]}]}.
{rdbms_server_type,mssql}.
{registration_timeout,600}.
{routing_modules,
 [mongoose_router_global,mongoose_router_localdomain]}.
{services,
 [{service_mongoose_system_metrics,
   [{initial_report,300000},
    {periodic_report,10800000},
    report,
    {tracking_id,"UA-123456789"}]}]}.
{sm_backend,{mnesia,[]}}.
{{auth,<<"anonymous.localhost">>},
 #{anonymous => #{allow_multiple_connections => true,
                  protocol => sasl_anon},
   http => #{basic_auth => "admin:admin"},
   external => #{instances => 1,
                 program => "/usr/bin/authenticator"},
   jwt => #{algorithm => <<"RS256">>,
            secret => {value,"secret123"},
            username_key => user},
   ldap => #{base => <<"ou=Users,dc=esl,dc=com">>,
             bind_pool_tag => bind,
             deref => never,
             dn_filter => {<<"(&(name=%s)(owner=%D)(user=%u@%d))">>,[<<"sn">>]},
             filter => <<"(&(objectClass=shadowAccount)(memberOf=Jabber Users))">>,
             local_filter => {equal,{"accountStatus",["enabled"]}},
             pool_tag => default,
             uids => [<<"uid">>,{<<"uid2">>,<<"%u">>}]},
   rdbms => #{users_number_estimate => true},
   riak => #{bucket_type => <<"user_bucket">>}}}.
{{auth,<<"localhost">>},
 #{anonymous => #{allow_multiple_connections => true,
                  protocol => sasl_anon},
   http => #{basic_auth => "admin:admin"},
   external => #{instances => 1,
                 program => "/usr/bin/authenticator"},
   jwt => #{algorithm => <<"RS256">>,
            secret => {value,"secret123"},
            username_key => user},
   ldap => #{base => <<"ou=Users,dc=esl,dc=com">>,
             bind_pool_tag => bind,
             deref => never,
             dn_filter => {<<"(&(name=%s)(owner=%D)(user=%u@%d))">>,[<<"sn">>]},
             filter => <<"(&(objectClass=shadowAccount)(memberOf=Jabber Users))">>,
             local_filter => {equal,{"accountStatus",["enabled"]}},
             pool_tag => default,
             uids => [<<"uid">>,{<<"uid2">>,<<"%u">>}]},
   rdbms => #{users_number_estimate => true},
   riak => #{bucket_type => <<"user_bucket">>}}}.
{{replaced_wait_timeout,<<"anonymous.localhost">>},2000}.
{{replaced_wait_timeout,<<"localhost">>},2000}.
{{route_subdomains,<<"anonymous.localhost">>},s2s}.
{{route_subdomains,<<"localhost">>},s2s}.
